<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
        th {
            color: #fff;
        }
    </style>
</head>

<body>

    <table class="table table-striped">
        <tr class="bg-info">
            <th>UUID</th>
            <th>userName</th>
            <th>firstName</th>
            <th>lastName</th>
            <th>organ</th>
            <th>Type</th>
            <th>matched ID</th>
        </tr>

        <tbody id="myTable">

        </tbody>
    </table>
    <script src="js/jquery-3.5.1.min.js"></script>


    <script>
        var myArray = []

        $.ajax({
            method: 'GET',
            url: "http://localhost:3000/user/readallUsers",
            success: function (response) {
                myArray = response.message
                buildTable(myArray)
                console.log(typeof myArray)
                console.log(myArray)
                console.log("-----------------------")
                console.log(Object.keys(myArray).length)
                console.log(myArray[0].Key)
                console.log(myArray[0].Record)
                console.log(myArray[0].Record.firstName)
                // console.log(JSON.stringify(myArray))

            }
        })



        function buildTable(data) {
            var table = document.getElementById('myTable')

            for (var i = 0; i < data.length; i++) {

                var row = `<tr>
                             <td>${data[i].Record.UUID}</td>
							<td>${data[i].Record.userName}</td>
                            <td>${data[i].Record.firstName}</td>
                            <td>${data[i].Record.lastName}</td>
                            <td>${data[i].Record.organ}</td>
                            <td>${data[i].Record.type}</td>
                            <td>${data[i].Record.match}</td>
					  </tr>`
                table.innerHTML += row

            }

        }
    </script>
</body>

</html>